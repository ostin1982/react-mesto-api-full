{"version":3,"sources":["images/logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ConfirmDeletionPopup.js","components/Register.js","components/Login.js","components/ProtectedRoute.js","images/check_mark.svg","images/cross.svg","components/InfoTooltip.js","utils/auth.js","utils/api.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","email","loggedOut","className","src","logo","alt","path","to","exact","onClick","CurrentUserContext","React","createContext","Card","card","onCardClick","onCardLike","onCardDelete","currentUser","useContext","isOwn","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","link","title","type","name","aria-label","length","Main","cards","onEditAvatar","onEditProfile","onAddPlace","avatar","about","map","Footer","ImagePopup","onClose","PopupWithForm","button","children","isOpen","onSubmit","method","noValidate","value","EditProfilePopup","onUpdateUser","useState","setName","description","setDescription","useEffect","event","preventDefault","onChange","target","required","placeholder","id","minLength","maxLength","autoComplete","EditAvatarPopup","onUpdateAvatar","avatarRef","useRef","current","ref","AddPlacePopup","placeRef","urlRef","ConfirmDeletionPopup","onDeleteCard","Register","handleRegister","password","data","setData","handleChange","Login","handleLogin","ProtectedRoute","Component","component","props","loggedIn","InfoTooltip","isInfoTooltipStatus","checkMark","cross","BASE_URL","chekResponse","res","ok","json","Promise","reject","statusText","api","baseUrl","headers","this","_baseUrl","_headers","status","fetch","authorization","localStorage","getItem","then","_addCommonFetchForAllApis","body","JSON","stringify","deleteLikeCard","addLikeCard","userData","imgSrc","App","setCurrentUser","setCards","selectedCard","setSelectedCard","deletedCard","setDeletedCard","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isConfirmDeletionPopupOpen","setIsConfirmDeletionPopupOpen","setEmail","setLoggedIn","isInfoTooltipOpen","setIsInfoTooltipOpen","setIsInfoTooltipStatus","history","useHistory","getInitialCards","result","token","jwt","getUserInfoAbout","push","statusCode","Error","message","closeAllPopups","Provider","removeItem","changeLikeCardStatus","newCard","newCards","c","catch","error","console","auth","setItem","changeInfo","addNewCard","changeUserAvatar","deleteCard","filter","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.455d8b30.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.8724261e.svg\";","import { Route, Link } from 'react-router-dom';\r\n\r\nimport logo from \"../images/logo.svg\";\r\n\r\nconst Header = ({ email, loggedOut }) => {\r\n  return (\r\n    <header className=\"header\">\r\n      <img className=\"header__logo\" src={logo} alt=\"Логотип проекта. Mesto Russian\" />\r\n      {\r\n        <nav className='header__info'>\r\n          <Route path='/sign-up'>\r\n              <Link className='header__link' to='/sign-in'>Войти</Link>\r\n          </Route>\r\n          <Route path='/sign-in'>\r\n              <Link className='header__link' to='/sign-up'>Регистрация</Link>\r\n          </Route>\r\n          <Route exact path='/'>\r\n              <div className='header__info'>\r\n                  <p className='header__link header__link_nothover'>{email}</p>\r\n                  <Link className='header__link header__link_weight' onClick={loggedOut} to='/sign-in'>Выйти</Link>\r\n              </div>\r\n          </Route>\r\n        </nav>\r\n      }\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;","import React from 'react';\r\n\r\nexport const CurrentUserContext = React.createContext();","import { useContext } from \"react\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\n\r\n\r\nfunction Card({ card, onCardClick, onCardLike, onCardDelete }) {\r\n    const currentUser = useContext(CurrentUserContext);\r\n\r\n    \r\n    const isOwn = card.owner._id !== currentUser._id;\r\n    const cardDeleteButtonClassName = (\r\n        `element__basket ${isOwn ? 'element__basket_active' : 'element__basket_inactive'}`\r\n    ); \r\n\r\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\r\n    const cardLikeButtonClassName = (\r\n        `element__like ${isLiked ? 'element__like_active' : ''}`\r\n    ); \r\n\r\n    const handleCardClick = () => {\r\n        onCardClick(card);\r\n    } \r\n\r\n    const handleCardLike = () => {\r\n        onCardLike(card);\r\n    }\r\n\r\n    const handleDeleteClick = () => {\r\n        onCardDelete(card);\r\n    }\r\n\r\n    return (\r\n        <li className=\"element\">\r\n            <article className=\"element__card\">\r\n                <img className=\"element__img\" \r\n                src={card.link} \r\n                alt={card.title}\r\n                onClick={handleCardClick}\r\n                />\r\n            <button \r\n                type=\"button\" \r\n                className={cardDeleteButtonClassName}\r\n                onClick={handleDeleteClick}\r\n            ></button>\r\n            <div className=\"element__info\">\r\n                <h2 className=\"element__name\">{card.name}</h2>\r\n                <div className=\"element__like-conteiner\">\r\n                    <button \r\n                        type=\"button\" \r\n                        aria-label=\"Нравится\"\r\n                        className={cardLikeButtonClassName}\r\n                        onClick={handleCardLike}\r\n                    ></button>\r\n                    <span className=\"element__like-number\">{card.likes.length}</span>\r\n                </div>\r\n            </div>\r\n        </article>\r\n    </li>\r\n    );\r\n}\r\n\r\nexport default Card;","import { useContext } from \"react\";\r\n\r\nimport Card from \"./Card\";\r\n\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\n\r\n\r\nfunction Main({ cards, onEditAvatar, onEditProfile, onAddPlace, onCardClick, onCardLike, onCardDelete }) {\r\n    const currentUser = useContext(CurrentUserContext);\r\n\r\n  return (\r\n    <main className=\"content\">\r\n      <section className=\"profile\">\r\n        <div\r\n        className=\"profile__avatar\"  \r\n        onClick={onEditAvatar}>\r\n          <img\r\n          className=\"profile__avatar-img\" \r\n          alt=\"Аватар\"\r\n          src={currentUser.avatar} />\r\n        </div>\r\n          <div className=\"profile__info\">                   \r\n            <div className=\"profile__edit\">\r\n              <h1 className=\"profile__name\">{currentUser.name}</h1>\r\n                <button \r\n                className=\"profile__edit-button\"\r\n                type=\"button\"\r\n                aria-label=\"Редактировать\"\r\n                onClick={onEditProfile}\r\n                ></button>\r\n            </div>\r\n            <p className=\"profile__occupation\">{currentUser.about}</p>\r\n          </div>               \r\n          <button \r\n          className=\"profile__add-button\" \r\n          type=\"button\"\r\n          aria-label=\"Добавить\"\r\n          onClick={onAddPlace}\r\n          ></button>\r\n        </section>\r\n        <section className=\"element\">\r\n        <ul className=\"elements\">\r\n            {cards.map((card) => {\r\n              return (\r\n                <Card\r\n                card={card}\r\n                key={card._id}\r\n                onCardClick={onCardClick}\r\n                onCardLike={onCardLike}\r\n                onCardDelete={onCardDelete}\r\n                />\r\n              );\r\n            })}\r\n        </ul>\r\n        </section>\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default Main;","function Footer() {\r\n    return (\r\n      <footer className=\"footer\">\r\n          <p className=\"footer__copyright\">&copy; 2021 Mesto Russia</p>\r\n        </footer>\r\n    );\r\n  }\r\n  \r\n  export default Footer;","function ImagePopup({ card, onClose }) {\r\n    return (\r\n        <div className={`popup popup__photo-big-card ${card && \"popup_is-open\"}`}> \r\n            <div className=\"popup__photo-element\">\r\n                <img \r\n                className=\"popup__photo-big\" \r\n                src={card?.link} \r\n                alt={card?.name}\r\n                />                               \r\n                <button \r\n                className=\"popup__close popup__photo-close\"  \r\n                type=\"button\"\r\n                aria-label=\"Закрыть\"\r\n                onClick={onClose}\r\n                ></button>\r\n                <p className=\"popup__photo-edit\">{card?.name}</p>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default ImagePopup;","import React from 'react'\r\n\r\nfunction PopupWithForm({ name, title, button, children, isOpen, onClose, onSubmit }) {\r\n    return(\r\n        <div className={isOpen ? `popup popup__input_${name} popup_is-open` : `popup popup__input_${name}`}>\r\n            <div className=\"popup__container\">\r\n                <h2 className=\"popup__edit\">{title}</h2>\r\n                <form className={`popup__input popup__input_${name} form`} method=\"POST\" name={`${name}`} onSubmit={onSubmit} noValidate>\r\n                    <div>{children}</div>\r\n                <input className=\"popup__submit\" type=\"submit\" value={button} />\r\n                </form>\r\n                <button className=\"popup__close\" type=\"button\" onClick={onClose}/>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default PopupWithForm","import { useContext, useState, useEffect } from \"react\";\r\n\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\n\r\n\r\n\r\nfunction EditProfilePopup({ onUpdateUser, isOpen, onClose }) {\r\n    const currentUser = useContext(CurrentUserContext);\r\n    const [name, setName] = useState(\"\");\r\n    const [description, setDescription] = useState(\"\");    \r\n\r\n\r\n    useEffect(() => {\r\n            setName(currentUser.name || '');\r\n            setDescription(currentUser.about || '');\r\n    }, [currentUser, isOpen]); \r\n\r\n\r\n    const handleSubmit = (event) => {\r\n        event.preventDefault();\r\n        onUpdateUser({\r\n            name,\r\n            about: description,\r\n        });\r\n    }\r\n\r\n    const handleChangeName = (event) => {\r\n        setName(event.target.value);\r\n    }\r\n\r\n    const handleChangeDescription = (event) => {\r\n        setDescription(event.target.value);\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm \r\n        title=\"Редактировать профиль\" \r\n        name=\"edit\" \r\n        button=\"Сохранить\"\r\n        isOpen={isOpen}\r\n        onClose={onClose}\r\n        onSubmit={handleSubmit}>\r\n            <section>\r\n                <input className=\"popup__about popup__about_grey-line popup__about_name\" name=\"name\" type=\"text\" value={name} onChange={handleChangeName} required placeholder=\"Имя\" id=\"sign-in-name\" minLength={2} maxLength={40} autoComplete=\"off\" />                 \r\n                <span className=\"\" id=\"sign-in-name-error\"></span>\r\n                <input className=\"popup__about popup__about_grey-line popup__about_occupation_name\" name=\"description\" type=\"text\" value={description} onChange={handleChangeDescription} required placeholder=\"О себе\" id=\"sign-in-occupation\" minLength={2} maxLength={200} autoComplete=\"off\" />\r\n                <span className=\"\" id=\"sign-in-occupation-error\"></span>                            \r\n            </section>\r\n        </PopupWithForm> \r\n    )\r\n}\r\n\r\nexport default EditProfilePopup;","import { useRef } from 'react';\r\n\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\n\r\nfunction EditAvatarPopup({ onUpdateAvatar, isOpen, onClose }) {\r\n    const avatarRef = useRef();\r\n\r\n\r\n    const handleSubmit = (event) => {\r\n        event.preventDefault();\r\n        onUpdateAvatar(avatarRef.current.value);\r\n    } \r\n\r\n\r\n    return (\r\n        <PopupWithForm\r\n        title=\"Обновить аватар\" \r\n        name=\"avatar\" \r\n        button=\"Сохранить\" \r\n        isOpen={isOpen}\r\n        onClose={onClose}\r\n        onSubmit={handleSubmit}>\r\n            <section>                \r\n                <input ref={avatarRef} className=\"popup__about popup__about_grey-line popup__about_new-avatar\" id=\"sign-in-photo-card-occupation\" type=\"url\"  placeholder=\"Ссылка на картинку\"  name=\"avatar\" required autoComplete=\"off\" />\r\n                <span className=\"\" id=\"sign-in-photo-card-occupation-error\"></span>\r\n            </section>\r\n        </PopupWithForm>\r\n    )\r\n}\r\n\r\n\r\nexport default EditAvatarPopup;","import { useRef } from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\n\r\nfunction AddPlacePopup({ onAddPlace, isOpen, onClose }) {\r\n    const placeRef = useRef();\r\n    const urlRef = useRef();\r\n\r\n\r\n    const handleSubmit = (event) => {\r\n        event.preventDefault();\r\n        onAddPlace({\r\n            name: placeRef.current.value,\r\n            link: urlRef.current.value\r\n        });\r\n    } \r\n\r\n\r\n    return (\r\n        <PopupWithForm \r\n        name=\"add\" \r\n        title=\"Новое место\"\r\n        button=\"Сохранить\"\r\n        isOpen={isOpen}\r\n        onClose={onClose}       \r\n        onSubmit={handleSubmit}>\r\n            <section>                \r\n                <input ref={placeRef} className=\"popup__about popup__about_grey-line popup__about_photo-card\" id=\"sign-in-photo-card-name\" type=\"text\" placeholder=\"Название\"  name=\"name\" required minLength={2} maxLength={30} autoComplete=\"off\" />\r\n                <span className=\"\" id=\"sign-in-photo-card-name-error\"></span>  \r\n                <input ref={urlRef} className=\"popup__about popup__about_grey-line popup__about_occupation_photo-card\" id=\"sign-in-photo-card-occupation\" type=\"url\" placeholder=\"Ссылка на картинку\"  name=\"link\" required autoComplete=\"off\" />\r\n                <span className=\"\" id=\"sign-in-photo-card-occupation-error\"></span>\r\n            </section>\r\n        </PopupWithForm>\r\n    )\r\n}\r\n\r\nexport default AddPlacePopup;","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\n\r\nfunction ConfirmDeletionPopup({ onDeleteCard, isOpen, onClose, card }) {\r\n\r\n    function handleSubmit(event) {\r\n    event.preventDefault();\r\n    onDeleteCard(card);\r\n    }\r\n    \r\n\r\n    return (\r\n    <PopupWithForm\r\n        title=\"Вы уверены?\" \r\n        name=\"delete\"\r\n        button=\"Да\" \r\n        isOpen={isOpen}\r\n        onClose={onClose}\r\n        onSubmit={handleSubmit}>\r\n    </PopupWithForm>\r\n    );\r\n}\r\n\r\nexport default ConfirmDeletionPopup;","import { useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst Register = ({ handleRegister }) => {\r\n    const [data, setData] = useState({\r\n        email: '',\r\n        password: '',\r\n    });\r\n\r\n\r\n    const handleChange = (event) => {\r\n        const {name, value} = event.target;\r\n        setData({...data, [name]: value});\r\n    };\r\n\r\n    const handleSubmit = (event) => {\r\n        event.preventDefault();\r\n        handleRegister(data)\r\n    };\r\n\r\n    return (\r\n        <form className=\"register\" onSubmit={handleSubmit}>\r\n            <h2 className=\"register__title\">Регистрация</h2>\r\n            <input className=\"register__input\" name=\"email\" type=\"email\" placeholder=\"Email\" minLength=\"6\" maxLength=\"20\" required value={data.email} onChange={handleChange}  />\r\n            <input className=\"register__input\" name=\"password\" type=\"password\" placeholder=\"Пароль\" minLength=\"6\" maxLength=\"20\" required value={data.password} onChange={handleChange}  />\r\n            <button className=\"register__submit\" type=\"submit\">Зарегестрироваться</button>\r\n            <p className=\"register__link\">Уже зарегестрированы? <Link className=\"register__link register__link_hover\" to=\"/sign-in\">Войти</Link></p>\r\n        </form>\r\n    );\r\n}\r\n\r\nexport default Register;","import { useState } from 'react';\r\n\r\nconst Login = ({ handleLogin }) => {\r\n    const [data, setData] = useState({\r\n        password: '',\r\n        email: ''\r\n    })\r\n\r\n    const handleChange = (event) => {\r\n        const { name, value } = event.target\r\n        setData({ ...data, [name]: value })\r\n    }\r\n\r\n    const handleSubmit = (event) => {\r\n        event.preventDefault();\r\n        handleLogin(data)\r\n    }\r\n\r\n    return (\r\n        <form className=\"register\" onSubmit={handleSubmit}>\r\n            <h2 className=\"register__title\">Вход</h2>\r\n            <input className=\"register__input\" id=\"email\" name=\"email\" type=\"text\" placeholder=\"Email\" minLength=\"6\" required value={data.email} onChange={handleChange} />\r\n            <input className=\"register__input\" id=\"password\" name=\"password\" type=\"password\" placeholder=\"Пароль\" minLength=\"6\" value={data.password} required onChange={handleChange} />\r\n            <button className=\"register__submit\" type=\"submit\">Войти</button>          \r\n        </form>\r\n    )\r\n}\r\n\r\nexport default Login;","import React from 'react';\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\nconst ProtectedRoute = ({ component: Component, ...props }) => {\r\n        return (\r\n                <Route>\r\n                        {\r\n                                () => props.loggedIn ? <Component {...props} /> : <Redirect to=\"/sign-in\" /> \r\n                        }\r\n                </Route>\r\n        );\r\n};\r\n\r\nexport default ProtectedRoute;","export default __webpack_public_path__ + \"static/media/check_mark.1b6082f8.svg\";","export default __webpack_public_path__ + \"static/media/cross.df8eddf6.svg\";","import checkMark from '../images/check_mark.svg';\r\nimport cross from '../images/cross.svg';\r\n\r\nconst InfoTooltip = ({ isOpen, onClose, isInfoTooltipStatus }) => {\r\n    return (\r\n        <div className={`popup ${isOpen ? 'popup_is-open' : ' '}`} >\r\n            <div className='popup__check'>\r\n                <img className='popup__check-cross' src={isInfoTooltipStatus ? checkMark : cross} alt='Статус проведенной операции' />\r\n                <h2 className='popup__check-about'>{isInfoTooltipStatus ? 'Вы успешно зарегистрировались!' : 'Что-то пошло не так! Попробуйте еще раз.'}</h2>\r\n                <button className='popup__close' type='reset' onClick={onClose}></button>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default InfoTooltip;","//export const BASE_URL = `${window.location.protocol}${process.env.REACT_APP_API_URL || '//localhost:3001'}`;\r\nexport const BASE_URL = 'https://api.ostin.student.nomoredomains.club';\r\n\r\nconst chekResponse = (res) => res.ok ? res.json() : Promise.reject(`Error ${res.statusText}`);\r\n\r\nexport const register = ({ email, password }) => {\r\n    return fetch(`${BASE_URL}/signup`, {\r\n        method: 'POST',\r\n        headers: {\r\n            'Accept': 'application/json',\r\n            'Content-Type': 'application/json',\r\n        },\r\n        \r\n        body: JSON.stringify({ email, password }),\r\n    })\r\n    .then(chekResponse);\r\n}\r\n\r\nexport const login = ({ email, password }) => {\r\n    return fetch(`${BASE_URL}/signin`, {\r\n        method: 'POST',\r\n        headers: {\r\n            'Accept': 'application/json',\r\n            'Content-Type': 'application/json',\r\n        },\r\n        \r\n        body: JSON.stringify({ email, password }),\r\n        })\r\n        .then(chekResponse);\r\n}\r\n\r\nexport const getContent = (token) => {\r\n    return fetch(`${BASE_URL}/users/me`, {\r\n        method: 'GET',\r\n        headers: {\r\n            'Accept': 'application/json',\r\n            'Content-Type': 'application/json',\r\n            'Authorization': `Bearer ${token}`,\r\n        },\r\n        \r\n    })\r\n    .then(chekResponse);\r\n}\r\n","class Api {\r\n    constructor({ baseUrl, headers }) {\r\n    this._baseUrl = baseUrl;\r\n    this._headers = headers;\r\n    }\r\n\r\n    _addCommonFetchForAllApis(res) {\r\n        if (!res.ok) {\r\n            return Promise.reject(`Ошибка:${res.status}`);            \r\n        } else {\r\n            return res.json();\r\n        }\r\n    }\r\n\r\n    //Получить карточки с сервера\r\n    getInitialCards() {\r\n        return fetch(`${this._baseUrl}/cards`, {\r\n            headers: { ...this._headers, authorization: `Bearer ${localStorage.getItem('jwt')}` }\r\n    })\r\n        .then(this._addCommonFetchForAllApis);\r\n    }\r\n\r\n    //Блок работы с карточками\r\n    //Добавление карточки\r\n    addNewCard(card) {\r\n        return fetch(`${this._baseUrl}/cards`, {\r\n            method: 'POST',\r\n            headers: { ...this._headers, authorization: `Bearer ${localStorage.getItem('jwt')}` },\r\n            body: JSON.stringify({\r\n                name: card.name,\r\n                link: card.link,\r\n                })\r\n            })\r\n            .then(this._addCommonFetchForAllApis);\r\n    }\r\n\r\n    //Удаление карточки\r\n    deleteCard(card) {\r\n        return fetch(`${this._baseUrl}/cards/${card._id}`, {\r\n            method: \"DELETE\",\r\n            headers: { ...this._headers, authorization: `Bearer ${localStorage.getItem('jwt')}` },\r\n        })\r\n        .then(this._addCommonFetchForAllApis);;\r\n    }\r\n\r\n    //Лайк картинке\r\n    addLikeCard(card) {\r\n        return fetch(`${this._baseUrl}/cards/likes/${card._id}`, {\r\n            method: 'PUT',\r\n            headers: { ...this._headers, authorization: `Bearer ${localStorage.getItem('jwt')}` },\r\n            body: JSON.stringify()\r\n        })\r\n        .then(this._addCommonFetchForAllApis);\r\n    }\r\n\r\n    //Удаление лайк картинке\r\n    deleteLikeCard(card) {\r\n        return fetch(`${this._baseUrl}/cards/likes/${card._id}`, {\r\n            method: 'DELETE',\r\n            headers: { ...this._headers, authorization: `Bearer ${localStorage.getItem('jwt')}` },\r\n            body: JSON.stringify()\r\n        })\r\n        .then(this._addCommonFetchForAllApis);\r\n    } \r\n\r\n    //Статус лайка\r\n    changeLikeCardStatus(card, isLiked) {\r\n        if (isLiked) {\r\n            return this.deleteLikeCard(card)\r\n        }\r\n        else {\r\n            return this.addLikeCard(card)\r\n        }\r\n    }\r\n\r\n    //Блок работы с профилем\r\n    //Получить данные пользователя\r\n    getUserInfoAbout() {\r\n        return fetch(`${this._baseUrl}/users/me`, {\r\n            headers: { ...this._headers, authorization: `Bearer ${localStorage.getItem('jwt')}` },\r\n        })\r\n        .then(this._addCommonFetchForAllApis);\r\n    }\r\n\r\n    //Редактировать данные пользователя\r\n    changeInfo(userData) {\r\n        return fetch(`${this._baseUrl }/users/me`, {\r\n            method: 'PATCH',\r\n            headers: { ...this._headers, authorization: `Bearer ${localStorage.getItem('jwt')}` },\r\n            body: JSON.stringify({\r\n                name: userData.name,\r\n                about: userData.about\r\n            })\r\n        })\r\n        .then(this._addCommonFetchForAllApis);\r\n    }\r\n\r\n    //Редактировать аватар пользователя\r\n    changeUserAvatar(imgSrc) {\r\n        return fetch(`${this._baseUrl}/users/me/avatar`, {\r\n            method: 'PATCH',\r\n            headers: { ...this._headers, authorization: `Bearer ${localStorage.getItem('jwt')}` },\r\n            body: JSON.stringify({\r\n                avatar: imgSrc\r\n            })\r\n        })\r\n        .then(this._addCommonFetchForAllApis);\r\n    }\r\n}\r\n\r\nexport const api = new Api({\r\n    baseUrl: 'https://api.ostin.student.nomoredomains.club',  \r\n    'Content-Type': 'application/json',\r\n});\r\n","import { useState, useEffect } from \"react\";\r\nimport { Route, Switch, Redirect, useHistory } from \"react-router-dom\";\r\n\r\nimport Header from \"./Header\";\r\nimport Main from \"./Main\";\r\nimport Footer from \"./Footer\";\r\nimport ImagePopup from \"./ImagePopup\";\r\nimport EditProfilePopup from \"./EditProfilePopup\";\r\nimport EditAvatarPopup from \"./EditAvatarPopup\";\r\nimport AddPlacePopup from \"./AddPlacePopup\";\r\nimport ConfirmDeletionPopup from \"./ConfirmDeletionPopup\";\r\nimport Register from \"./Register\";\r\nimport Login from \"./Login\";\r\nimport ProtectedRoute from './ProtectedRoute';\r\nimport InfoTooltip from './InfoTooltip';\r\nimport * as auth from '../utils/auth';\r\n\r\nimport { api } from \"../utils/api\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\n\r\nimport \"../index.css\";\r\n\r\nconst App = () => { \r\n  const [currentUser, setCurrentUser] = useState({});\r\n  const [cards, setCards] = useState([]);\r\n  const [selectedCard, setSelectedCard] = useState(); \r\n  const [deletedCard, setDeletedCard] = useState({}); \r\n\r\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\r\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\r\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\r\n  const [isConfirmDeletionPopupOpen, setIsConfirmDeletionPopupOpen] = useState(false);  \r\n\r\n  const [email, setEmail] = useState('');\r\n  const [loggedIn, setLoggedIn] = useState(false);\r\n  const [isInfoTooltipOpen, setIsInfoTooltipOpen] = useState(false);  \r\n  const [isInfoTooltipStatus, setIsInfoTooltipStatus] = useState(false);\r\n\r\n  const history = useHistory();\r\n\r\n  useEffect(() => {\r\n    api.getInitialCards().then((result) => {\r\n      setCards(result);\r\n    });\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const jwt = localStorage.getItem('jwt');\r\n    if (jwt) {\r\n          auth.getContent(jwt).then((res) => {\r\n      if (res) {\r\n        setLoggedIn(true);\r\n        api.getUserInfoAbout().then((res) => {\r\n          setCurrentUser(res);\r\n        });\r\n        history.push('/');\r\n      }\r\n      if (res.statusCode === 400) {\r\n        throw new Error({\r\n          message: `Токен: ${jwt} не передан или передан не в том формате`,\r\n        });\r\n      }\r\n      if (res.statusCode === 401) {\r\n        throw new Error({ message: `Переданный токен: ${jwt} некорректен` });\r\n      }\r\n    });\r\n    }\r\n    // eslint-disable-next-line\r\n  }, []);\r\n  \r\n  const handleRegister = (email, password) => { \r\n    return auth.register(email, password)\r\n    .then(res => {\r\n      if (res) {\r\n        setIsInfoTooltipOpen(true);\r\n        setIsInfoTooltipStatus(true);\r\n        history.push('/sign-in');\r\n        }\r\n      })\r\n    .catch(() => {\r\n      setIsInfoTooltipOpen(true);\r\n      setIsInfoTooltipStatus(false);\r\n      history.push('/sign-up');\r\n    })\r\n  }\r\n  \r\n  const handleLogin = (email, password) => {\r\n    return auth.login(email, password)\r\n    .then(res => {\r\n      if (res.token)  {\r\n        setLoggedIn(true);\r\n        localStorage.setItem('jwt', res.token);        \r\n        setEmail(email);\r\n        api.getUserInfoAbout()\r\n        .then((res) => {\r\n          setCurrentUser(res);\r\n        });\r\n      }\r\n    })\r\n  }\r\n\r\n  const handleLogout = () => {\r\n    setLoggedIn(false);\r\n    setEmail(email);\r\n    localStorage.removeItem('token');\r\n    history.push('/sign-in');\r\n  }\r\n\r\n  const handleEditProfileClick = () => {\r\n    setIsEditProfilePopupOpen(true)\r\n  };\r\n\r\n  const handleAddPlaceClick = () => {\r\n    setIsAddPlacePopupOpen(true)\r\n  };\r\n\r\n  const handleEditAvatarClick = () => {\r\n    setIsEditAvatarPopupOpen(true)\r\n  };\r\n\r\n  const handleCardClick = (card) => {\r\n    setSelectedCard(card)\r\n  };\r\n\r\n  const handleDeleteClick = (card) => {\r\n    setIsConfirmDeletionPopupOpen(true);\r\n    setDeletedCard(card);\r\n  }\r\n\r\n  const closeAllPopups = () => {\r\n    setIsEditProfilePopupOpen(false);\r\n    setIsAddPlacePopupOpen(false);\r\n    setIsEditAvatarPopupOpen(false);\r\n    setIsConfirmDeletionPopupOpen(false);\r\n    setSelectedCard();\r\n    setIsInfoTooltipOpen(false);\r\n  };\r\n\r\n  const handleCardLike = (card) => {\r\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\r\n    api.changeLikeCardStatus(card, isLiked).then((newCard) => {\r\n      const newCards = cards.map((c) => c._id === card._id ? newCard : c);\r\n      setCards(newCards);\r\n    })\r\n    .catch(error => console.error(error));\r\n} \r\n\r\n  const handleDeleteCard = (card) => {\r\n    api.deleteCard(card).then(() => {\r\n      const newCards = cards.filter((c) => c._id !== card._id);\r\n      setCards(newCards);\r\n      closeAllPopups();\r\n    })\r\n    .catch(error => console.error(error));\r\n    }\r\n\r\n  const handleUpdateUser = (userData) => {\r\n    api.changeInfo(userData)\r\n    .then((result) => {\r\n      setCurrentUser(result);\r\n      closeAllPopups();\r\n    })\r\n    .catch(error => console.error(error))\r\n  }\r\n\r\n  const handleUpdateAvatar = (imgSrc) => {\r\n    api.changeUserAvatar(imgSrc)\r\n    .then((result) => {\r\n      setCurrentUser(result);\r\n      closeAllPopups();\r\n    })\r\n    .catch(error => console.error(error))\r\n  }\r\n\r\n  const handleAddPlaceSubmit = (card) => {\r\n    api.addNewCard(card)\r\n      .then((newCard) => {\r\n        setCards([newCard, ...cards]);\r\n        closeAllPopups();\r\n      })\r\n      .catch(error => console.error(error))\r\n  }\r\n\r\n  return (\r\n    <CurrentUserContext.Provider value={currentUser}>\r\n    <div className=\"body\">\r\n      <div className=\"page\">\r\n\r\n      <Header \r\n      email={email} \r\n      loggedOut={handleLogout} \r\n      loggedIn={loggedIn} \r\n      />\r\n\r\n      <Switch>\r\n          <ProtectedRoute\r\n          exact path='/'\r\n          loggedIn={loggedIn}\r\n          component={Main}\r\n          cards={cards}\r\n          onEditProfile={handleEditProfileClick}\r\n          onAddPlace={handleAddPlaceClick}\r\n          onEditAvatar={handleEditAvatarClick}\r\n          onCardClick={handleCardClick}\r\n          onCardLike={handleCardLike}\r\n          onCardDelete={handleDeleteClick}\r\n          closeAllPopups={closeAllPopups}\r\n        />\r\n\r\n        <Route path='/sign-in'>\r\n          <Login handleLogin={handleLogin} setEmail={setEmail} />\r\n        </Route>\r\n        <Route path='/sign-up'>\r\n          <Register handleRegister={handleRegister} />\r\n        </Route>\r\n        <Route>\r\n          {loggedIn ? <Redirect to='/' /> : <Redirect to='/sign-in' />}\r\n        </Route>\r\n      </Switch>\r\n\r\n        <Footer />\r\n\r\n        <EditProfilePopup \r\n        isOpen={isEditProfilePopupOpen} \r\n        onClose={closeAllPopups} \r\n        onUpdateUser={handleUpdateUser}\r\n        />\r\n\r\n        <AddPlacePopup\r\n        isOpen={isAddPlacePopupOpen}\r\n        onClose={closeAllPopups} \r\n        onAddPlace={handleAddPlaceSubmit}\r\n        />\r\n\r\n        <EditAvatarPopup \r\n        isOpen={isEditAvatarPopupOpen} \r\n        onClose={closeAllPopups} \r\n        onUpdateAvatar={handleUpdateAvatar}\r\n        />\r\n\r\n        <ConfirmDeletionPopup \r\n        isOpen={isConfirmDeletionPopupOpen} \r\n        onClose={closeAllPopups} \r\n        onDeleteCard={handleDeleteCard}\r\n        card={deletedCard}\r\n        />\r\n        \r\n        <ImagePopup\r\n        card={selectedCard}\r\n        onClose={closeAllPopups} \r\n        {...selectedCard} \r\n        />\r\n\r\n        <InfoTooltip\r\n        isOpen={isInfoTooltipOpen}\r\n        onClose={closeAllPopups}\r\n        isInfoTooltipStatus={isInfoTooltipStatus}\r\n        />\r\n\r\n      </div>\r\n    </div>\r\n    </CurrentUserContext.Provider>\r\n  );\r\n}\r\n\r\nexport default App;","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport './index.css';\r\nimport App from './components/App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <BrowserRouter>\r\n      <App  />\r\n    </BrowserRouter>    \r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();"],"sourceRoot":""}